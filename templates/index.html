<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Basic SEO -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GenAI Medical Assistant — Image-first Disease Analysis</title>
  <meta name="description" content="Upload a medical image and get AI-assisted analysis. Ask follow-up questions about the diagnosis." />

  <!-- Preconnect for CDNs -->
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>

  <!-- External stylesheet (cached) -->
  <link rel="stylesheet" href="/static/css/style.css">
</head>
<body class="page">
  <!-- Fullscreen animated background container -->
  <div id="vanta-bg" aria-hidden="true"></div>

  <!-- Header (semantic) -->
  <header class="site-header" role="banner">
    <div class="brand" itemscope itemtype="http://schema.org/Organization">
      <div class="logo" aria-hidden="true">
        <svg viewBox="0 0 24 24" width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="20" height="20" rx="5" fill="white" opacity="0.06"/>
          <path d="M12 6v12M6 12h12" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <div>
        <h1 itemprop="name" style="margin:0; font-size:15px">GenAI Medical Assistant</h1>
        <div class="muted" style="font-size:12px">AI-assisted image diagnosis</div>
      </div>
    </div>

    <nav class="primary" role="navigation" aria-label="Primary">
      <a href="/" title="Home">Home</a>
      <a href="/about" title="About">About</a>
      <a href="/contact" title="Contact">Contact</a>
    </nav>
  </header>

  <!-- Main content: chat app card -->
  <main class="site-main" role="main">
    <article class="ui-card" aria-labelledby="app-title">
      <!-- left: upload & preview -->
      <section class="panel-left" aria-labelledby="controls-title">
        <div>
          <div id="controls-title" style="font-weight:800; font-size:16px">Upload & Preview</div>
          <div class="muted" style="margin-top:6px">First request should include an image. After analysis you can ask follow-up questions.</div>
        </div>

        <div class="preview" id="preview" role="img" aria-label="Uploaded image preview">
          <div class="muted" id="preview-empty">No image selected</div>
        </div>

        <div class="actions" role="group" aria-label="Upload controls">
          <label class="btn" for="file">Choose Image</label>
          <input id="file" type="file" accept="image/*" style="display:none" />
          <button id="reset" class="btn secondary">Reset</button>
        </div>

        <div class="small muted" style="font-size:13px">Supported: PNG, JPG, JPEG. We resize images client-side to reduce upload size.</div>
      </section>

      <!-- right: chat -->
      <section class="panel-right" aria-labelledby="chat-title">
        <div class="chat-header">
          <div id="chat-title" style="font-weight:700; font-size:16px">Chat & Analysis</div>
          <div class="muted" style="font-size:13px">Model: <strong style="color:#fff; font-weight:700; margin-left:6px">Llama-4 Scout</strong></div>
        </div>

        <div id="chat" class="chat-window" role="log" aria-live="polite"></div>

        <form id="composer" class="composer" onsubmit="return false;" role="search" aria-label="Send a message">
          <input id="query" type="text" placeholder="Ask about the image or disease..." aria-label="Your question" />
          <button id="send" class="send" aria-label="Send message">Send</button>
        </form>
      </section>
    </article>
  </main>

  <!-- Footer -->
  <footer class="site-footer" role="contentinfo">
    <div>
      <div style="font-weight:700">GenAI Medical Assistant</div>
      <div class="muted" style="font-size:13px">Trusted by researchers • Not a substitute for professional medical advice</div>
    </div>
    <div>
      <nav aria-label="Footer links" style="display:flex; gap:12px; align-items:center">
        <a href="/privacy" style="font-size:13px" rel="noopener">Privacy</a>
        <a href="/terms" style="font-size:13px" rel="noopener">Terms</a>
        <a href="/sitemap.xml" style="font-size:13px" rel="noopener">Sitemap</a>
      </nav>
    </div>
  </footer>

  <!-- Load app JS (which will dynamically load Three.js + Vanta) -->
  <script src="/static/js/app.js" defer></script>
</body>
</html>
